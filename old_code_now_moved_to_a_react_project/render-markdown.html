<!DOCTYPE html>
<html lang="en">

<head>
  <title>Render MD</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./styles/bootstrap.min.css" />
  <link rel="stylesheet" href="./styles/custom.css" />
  <script src="./scripts/jquery.min.js"></script>
  <script src="./scripts/bootstrap.min.js"></script>
</head>

<body>
  <script src="./scripts/nav-bar-n-footer.js"></script>
  <script>
    fetch(`https://raw.githubusercontent.com/abdulmoizhussain/javascript-helpers/master/Render%20Markdown.html`, {
      mode: "cors"
    }).then((res) => {
      return res.text();
    }).then((res) => {
      const STYLE = getTagsFromString(res, "style");
      document.head.innerHTML += STYLE.length ? STYLE[0] : "";
      const BODY = getTagsFromString(res, "body")[0];
      const SCRIPT = getTagsFromString(BODY, "script", false);
      eval(SCRIPT[2]);
      document.body.innerHTML += BODY;
    })
      .catch((err) => {
        console.log(err);
      });

    function getTagsFromString(source = "", tagName = '', surroundWithTag = true) {
      tagName = tagName.toLowerCase();
      const starting = `<${tagName}`;
      const ending = `</${tagName}>`;
      const result = [];
      while (source.indexOf(starting) > -1) {
        let str = source.substring(source.indexOf(starting), source.indexOf(ending)).replace(starting, "");
        const surrounded = starting + str + ending;
        result.push(surroundWithTag ? surrounded : (str.indexOf(">") === 0 ? str.replace(">", "") : str));
        source = source.replace(surrounded, "");
      }
      return result;
    }
  </script>
</body>

</html>